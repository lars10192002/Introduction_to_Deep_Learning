-------------------------
Documentation
-------------------------
	-	80-nm248-6_g_sectools__debug_policy_tool_user_guide.pdf

-------------------------
Changes: qcs405_dbgp_secimage.xml
-------------------------

	1. Update key & certs path in QCS405_dbgp_secimage.xml rest of the config will be as per QCS405_secimage.xml 
	   which is already configured at the time of sec.dat generation
		<general_properties>
	        <selected_signer>local_v2</selected_signer>
	        <selected_encryptor></selected_encryptor>
			<!--
				a. Mention you key and certificate folder name below
			-->
	        <selected_cert_config>OEM-KEYS</selected_cert_config>
	        <cass_capability>secboot_sha2_pss_subca1</cass_capability>
	
	        <key_size>2048</key_size>
	        <exponent>65537</exponent>
	
	        <mrc_index>0</mrc_index>
	        <num_root_certs>1</num_root_certs>
	        <max_num_root_certs>4</max_num_root_certs>
	
	        <!-- 
				b. Mention SOC HW Version Below
				SOC HW VERSION: QCS405 (Vipertooth)	0x20140100  
			-->
	        <msm_part>0x000AF0E1</msm_part>
			<soc_hw_version>0x20140100</soc_hw_version>
			<soc_vers>0x2014</soc_vers>
	        <in_use_soc_hw_version>1</in_use_soc_hw_version>
	        <oem_id>0x0000</oem_id>
	        <model_id>0x0000</model_id>
	        <debug>0x0000000000000002</debug>

-------------------------------
Changes: qcs405_debugpolicy.xml
-------------------------------
	
	2. Keep root hash to 0 do not change it as the ROOT Cert HASH will be read from QFPROM already programed via sec.dat
			
			<!--Range: 0 to 4-->
			<root_cert_hash_list> 
				<root_cert_hash> 0000000000000000000000000000000000000000000000000000000000000000 </root_cert_hash>
			</root_cert_hash_list>
	
	3. Device Serial Number: Mention Device serial number on which you are going to flash this debug policy image
			
			<!-- 	c. Get it from SBL UART serial logs 	-->
			
	        <serial_num_list> <!-- Range: 1 to 200-->
	            <serial_num> -- serial number-- </serial_num>
	        </serial_num_list>
	
	4. Debugpolicy Physical Address
		
		- It is default mentioned in the debug policy xml config file file of the sectool shipped with meta build.
		
		Ex.
		<elf>
            <elf_class>64</elf_class> <!--Elf: 32 or 64-->
            <phys_addr>0x863DE000</phys_addr> <!--qcs405 - Debugpolicy Physical Address-->
        </elf>
		
	5. Configure debug flash as per your need
	<flags>
	            <flag> <bit_pos>0</bit_pos> <value>0</value> </flag>  <!--DP_ENABLE_ONLINE_CRASH_DUMPS-->
	            <flag> <bit_pos>1</bit_pos> <value>0</value> </flag>  <!--DP_ENABLE_OFFLINE_CRASH_DUMPS-->
	            <flag> <bit_pos>2</bit_pos> <value>0</value> </flag>  <!--DP_ENABLE_JTAG-->
	            <flag> <bit_pos>3</bit_pos> <value>0</value> </flag>  <!--DP_ENABLE_LOGS-->
	            <flag> <bit_pos>24</bit_pos> <value>0</value> </flag> <!--DP_ENABLE_NONSECURE_CRASH_DUMPS-->
	            <flag> <bit_pos>25</bit_pos> <value>0</value> </flag> <!--DP_ENABLE_APPS_ENCRYPTED_MINI_DUMPS-->
	            <flag> <bit_pos>26</bit_pos> <value>0</value> </flag> <!--DP_ENABLE_MPSS_ENCRYPTED_MINI_DUMPS-->
	            <flag> <bit_pos>27</bit_pos> <value>0</value> </flag> <!--DP_ENABLE_LPASS_ENCRYPTED_MINI_DUMPS-->
	            <flag> <bit_pos>28</bit_pos> <value>0</value> </flag> <!--DP_ENABLE_CSS_ENCRYPTED_MINI_DUMPS-->
	            <flag> <bit_pos>29</bit_pos> <value>0</value> </flag> <!--DP_ENABLE_ADSP_ENCRYPTED_MINI_DUMPS-->
	            <flag> <bit_pos>30</bit_pos> <value>0</value> </flag> <!--DP_ENABLE_CDSP_ENCRYPTED_MINI_DUMPS-->
	
	        </flags>

----------------------------------------			
Generate & validate debug Policy Images 
----------------------------------------

		sectools.py debugpolicy --platform=qcs405 --generate --validate
		
		Or
		sectools.py debugpolicy --dbgp_config_path=config\qcs405\qcs405_debugpolicy.xml
		--secimage_config_path=config\qcs405\qcs405_dbgp_secimage.xml
		--generate
		--validate
		
		Ex. 
		
		To generate dp_ap_signed.mbn and dp_msa_signed.mbn (for example, sdm670)
		
		sectools.py debugpolicy –p qcs405 –ga
		
		Or, specify each config file:
		sectools.py debugpolicy –c config\qcs405\qcs405_debugpolicy.xml –e config\qcs405\qcs405_dbgp_secimage.xml –ga
